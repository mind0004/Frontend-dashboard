parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"+B6T":[function(require,module,exports) {
"use strict";var e=document.querySelector("#timeNav p"),t=document.querySelector("nav"),o=document.querySelector("#top-box .queue p"),a=document.querySelector("#top-box .serving p"),r=document.querySelector("#top-box .serving p"),n=document.querySelector("#top-box .performance .perf-value"),l=document.querySelector("#perf-chart").getContext("2d"),i=document.querySelector("#keg-level-chart").getContext("2d"),d=document.querySelector("#storage-level-chart").getContext("2d"),s=document.querySelectorAll(".display-modal-button"),u=document.querySelector("#modal"),c=document.querySelector("#modal h2"),g=document.querySelector("#modal p"),v=document.querySelector("#modal button"),f=!1,p=document.querySelector("#burger-menu"),h=document.querySelectorAll("#burger-menu span"),b=!1,m=1e3,y=15e3,S=1e3,E=1e3,C=void 0,H=void 0,A=void 0,k=void 0,L=void 0,P=void 0,R=void 0,M=void 0,T=[],x=[],w={avgT:1e4,avgPerf:15e3,timePerClient:[15e3],currentS:[],previousS:[],order:{}};function q(){setInterval(function(){Q()},1e3),I(),console.log(C),H=setInterval(function(){I(),B()},m),A=setInterval(function(){G()},y),P=setInterval(function(){V()},S),M=setInterval(function(){U()},E),B(),N(),O(),V(),K(),z(),U(),W(),Q(),s.forEach(function(e){e.addEventListener("click",Z)}),v.addEventListener("click",Z),p.addEventListener("click",J)}function I(){C=JSON.parse(FooBar.getData())}function B(){var e=C.queue.length;e<10&&(e="0"+e),o.textContent=e;var t=C.serving.length;t<10&&(t="0"+t),a.textContent=t,F()}function F(){Array.prototype.diff=function(e){return this.filter(function(t){return e.indexOf(t)<0})},w.currentS=[],C.serving.forEach(function(e){var t=e.id;w.currentS.push(t),w.order[t]=e.order.length});var e=w.currentS.diff(w.previousS),t=w.previousS.diff(w.currentS);if(e.length>0&&e.forEach(function(e){w[e]=Date.now()}),t.length>0&&t.forEach(function(e){var t=(Date.now()-w[e])/w.order[e];w.timePerClient.push(t)}),w.previousS=w.currentS.slice(),w.timePerClient.length>20)for(var o=0;o>w.timePerClient.length-20;o++)w.timePerClient.shift()}function G(){var e=0;w.timePerClient.forEach(function(t){e+=t});var t=e/w.timePerClient.length;w.avgPerf=Math.floor(w.avgT/t*100),isNaN(w.avgPerf)?n.textContent="N/A":n.textContent=w.avgPerf+"%",D()}function N(){k=new Chart(l,{type:"doughnut",responsive:!0,maintainAspectRatio:!1,data:{datasets:[{data:[50,50],backgroundColor:["#39B54A"],borderWidth:[0,0]}]},options:{legend:!1,rotation:Math.PI,circumference:Math.PI,events:[]}})}function D(){if(isNaN(w.avgPerf));else{var e=void 0;w.avgPerf>=60?e="good":w.avgPerf<=30?e="bad":w.avgPerf>30&&w.avgPerf<60&&(e="okay");var t={bad:"#ED1C24",okay:"#F7931E",good:"#39B54A"}[e];k.data.datasets[0].data=[w.avgPerf,100-w.avgPerf],k.data.datasets[0].backgroundColor=[t],k.update()}}function O(){L=new Chart(i,{type:"bar",height:400,data:{labels:["ELH","FTA","HBL","GTH","HEA","MIT","R26","RCH","SLR","SMP"],datasets:[{label:"Keg level in cl",backgroundColor:["#39B54A"],data:[0,10,5,2,20,30,45]}]},options:{legend:!1,responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{suggestedMin:0,suggestedMax:2500,beginAtZero:!0,min:0,max:2500,stepSize:500}}]}}})}function V(){T=[],C.taps.forEach(function(e){var t={elhefe:"ELH",fairytaleale:"FTA",hollabacklager:"HBL",githop:"GTH",hoppilyeverafter:"HEA",mowintime:"MIT",row26:"R26",ruinedchildhood:"RCH",sleighride:"SLR",steampunk:"SMP"}[e.beer.toLowerCase().replace(/ /g,"")],o={name:e.beer,short:t,level:e.level};T.push(o)}),K()}function K(){L.data.labels=[],L.data.datasets[0].data=[],L.data.datasets[0].backgroundColor=[];var e=void 0;T.forEach(function(t){t.level>=1500?e="good":t.level<=500?e="bad":t.level>500&&t.level<1500&&(e="okay");var o={bad:"#ED1C24",okay:"#F7931E",good:"#39B54A"}[e];L.data.labels.push(t.short),L.data.datasets[0].data.push(t.level),L.data.datasets[0].backgroundColor.push(o)}),L.update()}function z(){R=new Chart(d,{type:"bar",data:{labels:["ELH","FTA","HBL","GTH","HEA","MIT","R26","RCH","SLR","SMP"],datasets:[{label:"Amount of kegs in storage",backgroundColor:["#39B54A"],data:[0,10,5,2,20,30,45]}]},options:{legend:!1,responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{suggestedMin:0,suggestedMax:20,beginAtZero:!0,min:0,max:10,stepSize:1}}]}}})}function U(){x=[],C.storage.forEach(function(e){var t={elhefe:"ELH",fairytaleale:"FTA",hollabacklager:"HBL",githop:"GTH",hoppilyeverafter:"HEA",mowintime:"MIT",row26:"R26",ruinedchildhood:"RCH",sleighride:"SLR",steampunk:"SMP"}[e.name.toLowerCase().replace(/ /g,"")],o={name:e.name,short:t,level:e.amount};x.push(o)}),W()}function W(){R.data.labels=[],R.data.datasets[0].data=[],R.data.datasets[0].backgroundColor=[];var e=void 0;x.forEach(function(t){t.level>=6?e="good":t.level<=2?e="bad":t.level>2&&t.level<6&&(e="okay");var o={bad:"#ED1C24",okay:"#F7931E",good:"#39B54A"}[e];R.data.labels.push(t.short),R.data.datasets[0].data.push(t.level),R.data.datasets[0].backgroundColor.push(o)}),R.update()}function Z(e){if(f)u.style.removeProperty("top"),console.log("Close modal");else{var t={keg:{header:"KEG LEVEL",body:"Keg level displays the amount of beer left in a keg. The unit is in cl.<br /><br />Abbreviations:<br />ELH : El Hefe<br />FTA : Fairy Tale Ale<br />HBL : Hollaback Lager<br />GTH : GitHop<br />HEA : Hoppily Ever After<br />MIT : Mowintime<br />R26 : Row 26<br />RCH : Ruined Childhood<br />SLR : Sleighride<br />SMP : Steampunk"},storage:{header:"STORAGE LEVEL",body:"Storage level displays the amount of kegs in the storage room.<br /><br />Abbreviations:<br />ELH : El Hefe<br />FTA : Fairy Tale Ale<br />HBL : Hollaback Lager<br />GTH : GitHop<br />HEA : Hoppily Ever After<br />MIT : Mowintime<br />R26 : Row 26<br />RCH : Ruined Childhood<br />SLR : Sleighride<br />SMP : Steampunk"},topBox:{header:"OVERVIEW",body:"QUEUE displays the amount of clients waiting in line.<br /><br />SERVING displays the amount of clients currently beeing served<br /><br />PERFORMANCE displays the all around performance which is calculated based on the needed time to serve the last 20 beers. An average time is calculated and compared to 10s/beer which would be considered 100%. All performance over 60% is considered as very good!"}}[e.target.dataset.type];u.style.top="0px",c.textContent=t.header,g.innerHTML=t.body,console.log("Open Modal")}f=!f}function J(){b?(t.style.removeProperty("top"),h.forEach(function(e){e.style.removeProperty("background")})):(t.style.top="0px",h.forEach(function(e){e.style.background="#e9e9e9"})),b=!b}function Q(){var t=new Date,o=t.getHours()>=10?t.getHours():"0"+t.getHours(),a=t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes(),r=t.getSeconds()>=10?t.getSeconds():"0"+t.getSeconds();e.textContent=o+":"+a+":"+r}document.addEventListener("DOMContentLoaded",q);
},{}]},{},["+B6T"], null)
//# sourceMappingURL=script.e75bdbfc.map